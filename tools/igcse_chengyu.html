<!doctype html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>成语快问快答｜0509 历年短文精选</title>
  <style>
    :root{
      --bg:#0f1225;
      --card:#181b37cc;
      --card-strong:#1e2246e6;
      --text:#eef2ff;
      --muted:#c7cbe6;
      --accent:#7c5cff;
      --accent-2:#00d4ff;
      --good:#36d399;
      --bad:#f87272;
      --warn:#fbbd23;
      --shadow: 0 10px 30px rgba(0,0,0,.25);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 500px at 20% -10%, #2b2168 0%, transparent 60%),
        radial-gradient(1200px 600px at 120% 10%, #0d5b87 0%, transparent 60%),
        linear-gradient(160deg,#0b0c1a,#10122a 35%, #0a0d1e);
      display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{ width:min(1000px,100%); }
    .head{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px;
    }
    .brand{ display:flex; align-items:center; gap:12px; }
    .logo{ width:42px; height:42px; border-radius:50%; background:conic-gradient(from 180deg, var(--accent), var(--accent-2)); box-shadow:0 0 0 4px #ffffff14,0 12px 24px #00000055; }
    .title{ font-size: clamp(20px, 2.2vw, 28px); font-weight:800; letter-spacing: .5px; }
    .sub{ color:var(--muted); font-size:13px }

    .card{
      background:linear-gradient(180deg, var(--card), var(--card-strong));
      border:1px solid #ffffff14; border-radius:var(--radius); padding:18px; box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }
    .controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center }
    .pill{ padding:8px 12px; border-radius:999px; background:#ffffff10; border:1px solid #ffffff1a; color:var(--muted); font-size:12px }

    .screen{ display:none }
    .screen.active{ display:block }

    .hero{ display:grid; grid-template-columns: 1.2fr .8fr; gap:16px }
    @media (max-width: 840px){ .hero{ grid-template-columns: 1fr } }

    .cta{ display:flex; flex-direction:column; gap:14px }
    .cta h1{ margin:0; font-size:clamp(24px, 4.6vw, 40px) }
    .cta p{ margin:0; color:var(--muted) }
    .btn{ cursor:pointer; user-select:none; padding:14px 18px; border-radius:14px; border:1px solid #ffffff25; background:linear-gradient(180deg,#2b2f66,#222653); color:#fff; font-weight:700; letter-spacing:.3px; box-shadow:0 10px 20px #00000055; transition: transform .06s ease, box-shadow .2s ease, filter .2s ease; }
    .btn:hover{ filter:brightness(1.07) }
    .btn:active{ transform: translateY(1px) }
    .btn.secondary{ background:linear-gradient(180deg,#1d203f,#161932); font-weight:600 }
    .btn.ghost{ background:#ffffff0d }
    .row{ display:flex; gap:10px; flex-wrap:wrap }

    .stats{ display:flex; gap:10px; flex-wrap:wrap }
    .stat{ padding:10px 12px; background:#ffffff10; border:1px solid #ffffff1a; border-radius:12px; font-size:13px; color:var(--muted) }
    .stat b{ color:#fff }

    .qwrap{ display:flex; flex-direction:column; gap:14px }
    .q{ font-size:clamp(18px,2.4vw,22px); line-height:1.6 }

    .answers{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
    @media (max-width:680px){ .answers{ grid-template-columns: 1fr } }
    .opt{ padding:14px; border-radius:12px; background:#ffffff0f; border:1px solid #ffffff20; cursor:pointer; transition:transform .06s ease, background .2s ease, border-color .2s ease; color:#fff; font-size:16px}
    .opt:hover{ transform: translateY(-1px); background:#ffffff17 }
    .opt.correct{ background: #083f2a; border-color:#1c7f5c }
    .opt.wrong{ background:#3b0e16; border-color:#9d2230 }

    .progress{ height:10px; border-radius:999px; background:#ffffff10; overflow:hidden; border:1px solid #ffffff22 }
    .bar{ height:100%; width:0%; background:linear-gradient(90deg, var(--accent), var(--accent-2)); box-shadow: 0 0 20px #00e5ff66 inset }

    .ribbon{ display:flex; align-items:center; gap:10px; color:var(--muted); font-size:13px }
    .tag{ padding:6px 8px; border-radius:10px; border:1px solid #ffffff1e; background:#ffffff10; color:#fff; font-weight:700; font-size:12px }

    .chips{ display:flex; gap:8px; flex-wrap:wrap }
    .chip{ padding:8px 10px; border-radius:12px; background:#ffffff10; border:1px solid #ffffff1a; font-size:12px; color:var(--muted) }

    .toast{ position:fixed; left:50%; top:16px; transform:translateX(-50%); background:#101436ee; border:1px solid #ffffff2a; color:#fff; padding:10px 14px; border-radius:12px; box-shadow: var(--shadow); opacity:0; pointer-events:none; transition:opacity .2s ease }
    .toast.show{ opacity:1 }

    .footer{ margin-top:10px; display:flex; justify-content:space-between; align-items:center; color:var(--muted); font-size:12px }
    .link{ color:#cfd4ff }

    .kbd{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:#ffffff12; border:1px solid #ffffff28; border-bottom-width:3px; border-radius:8px; padding:1px 6px; font-size:12px; color:#fff }
  </style>
</head>
<body>
  <div class="app">
    <div class="head">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div class="title">成语快问快答</div>
          <div class="sub">IGCSE 0509｜历年 Insert 短文高频成语</div>
        </div>
      </div>
      <div class="controls">
        <button class="btn ghost" id="btn-about">玩法说明</button>
        <button class="btn secondary" id="btn-toggle-mode">题型：<span id="modeLabel">释义→选成语</span></button>
        <button class="btn" id="btn-start">开始练习 ▶︎</button>
      </div>
    </div>

    <!-- START SCREEN -->
    <div class="screen active" id="screen-start">
      <div class="hero">
        <div class="card cta">
          <h1>用 60 秒，冲击高分！</h1>
          <p>随机抽题、四选一、连对加时。支持两种题型切换：<b>释义→选成语</b> 或 <b>成语→选释义</b>。善用 3 个技能：<b>提示</b>、<b>50/50</b>、<b>跳过</b>。</p>
          <div class="row">
            <button class="btn" id="startNow">立即开始</button>
            <button class="btn secondary" id="btn-review">词库总览</button>
          </div>
          <div class="stats">
            <div class="stat">最高分：<b id="bestScore">0</b></div>
            <div class="stat">最长连对：<b id="bestStreak">0</b></div>
            <div class="stat">题库：<b id="bankSize">--</b> 条</div>
          </div>
        </div>
        <div class="card">
          <div class="qwrap">
            <div class="ribbon">
              <span class="tag">练习面板</span>
              <span id="meta"></span>
            </div>
            <div class="progress" aria-label="倒计时">
              <div class="bar" id="timeBar"></div>
            </div>
            <div class="stats" style="margin-top:6px">
              <div class="stat">得分：<b id="score">0</b></div>
              <div class="stat">连对：<b id="streak">0</b></div>
              <div class="stat">剩余：
                <b><span id="lifes">3</span> ❤</b>
              </div>
              <div class="stat">技能：
                <b>提示(<span id="hintLeft">2</span>) · 50/50(<span id="fiftyLeft">1</span>) · 跳过(<span id="skipLeft">2</span>)</b>
              </div>
            </div>
            <div class="q" id="question">点击「开始练习」或「立即开始」。</div>
            <div class="answers" id="answers"></div>
            <div class="row">
              <button class="btn secondary" id="btn-hint">提示</button>
              <button class="btn secondary" id="btn-5050">50/50</button>
              <button class="btn secondary" id="btn-skip">跳过</button>
            </div>
            <div class="chips" id="chips"></div>
          </div>
        </div>
      </div>
      <div class="footer">
        <div>键盘支持：<span class="kbd">1</span> <span class="kbd">2</span> <span class="kbd">3</span> <span class="kbd">4</span> 选择；<span class="kbd">H</span> 提示；<span class="kbd">F</span> 50/50；<span class="kbd">S</span> 跳过；<span class="kbd">Enter</span> 开始/下一题。</div>
        <div>© 成语快问快答 · 教学用途</div>
      </div>
    </div>

    <!-- REVIEW SCREEN -->
    <div class="screen" id="screen-review">
      <div class="card">
        <div class="row" style="justify-content:space-between; align-items:center; margin-bottom:10px">
          <div>
            <span class="tag">词库总览</span>
            <span class="sub">（点击可加到“重点复习”）</span>
          </div>
          <button class="btn ghost" id="btn-back">返回</button>
        </div>
        <div id="list" style="display:grid; grid-template-columns: 1fr 1fr; gap:10px"></div>
      </div>
    </div>

    <!-- DIALOGS -->
    <div class="toast" id="toast"></div>
  </div>

  <script>
    // ===== 数据：历年 Insert 短文高频成语 =====
    const RAW_BANK = [
      {i:"不置可否", m:"不表示同意，也不表示反对。", s:"2023 0509_s23_in_12 短文一"},
      {i:"未雨绸缪", m:"比喻事先做好准备。", s:"2023 0509_s23_in_12 短文一"},
      {i:"无心插柳", m:"比喻无意中做成了某件好事。", s:"2023 0509_s23_in_12 短文一"},
      {i:"水泄不通", m:"形容十分拥挤或包围得非常严密，连水都流不出去。", s:"2023 0509_s23_in_12 短文一"},
      {i:"见风转舵", m:"比喻看势头或看别人的眼色行事。", s:"2023 0509_s23_in_12 短文一"},
      {i:"流芳百世", m:"美名永远流传后世。", s:"2023 0509_s23_in_12 短文一"},
      {i:"以假乱真", m:"用假的东西冒充真的东西。", s:"2023 0509_s23_in_12 短文二"},
      {i:"积非成是", m:"长期沿袭错误，反认为是正确的。", s:"2023 0509_s23_in_12 短文二"},
      {i:"差之毫厘，失之千里", m:"开始时虽然相差很微小，结果会造成很大的错误。", s:"2023 0509_s23_in_12 短文四"},
      {i:"心知肚明", m:"心里明白但不说出来。", s:"2025 0509_s25_in_11 短文二"},
      {i:"胡吃海喝", m:"毫无节制地大吃大喝。", s:"2025 0509_s25_in_11 短文二"},
      {i:"重油重盐", m:"指食物中油脂和盐分含量很高。", s:"2025 0509_s25_in_11 短文二"},
      {i:"心直口快", m:"性情直爽，有话就说。", s:"2025 0509_s25_in_13 短文三"},
      {i:"标新立异", m:"提出新奇的主张，表示与一般不同。", s:"2025 0509_s25_in_13 短文三"},
      {i:"一塌糊涂", m:"形容混乱或败坏到了不可收拾的地步。", s:"2024 0509_s24_in_12 短文一"},
      {i:"骨瘦如柴", m:"形容非常瘦弱。", s:"2024 0509_s24_in_12 短文一"},
      {i:"有滋有味", m:"形容有情趣，有趣味。", s:"2024 0509_s24_in_12 短文二"},
      {i:"千篇一律", m:"指诗文、唱腔等格式陈旧，呆板雷同。", s:"2022 0509_s22_in_12 短文一"},
      {i:"昂首挺胸", m:"抬起头，挺起胸膛。形容斗志高，士气旺。", s:"2022 0509_s22_in_12 短文一"},
      {i:"稀里哗啦", m:"象声词，形容雨下得很大或东西倒塌、破碎的声音。", s:"2022 0509_s22_in_12 短文一"},
      {i:"不尴不尬", m:"左右为难，不好处理。", s:"2022 0509_s22_in_12 短文一"},
      {i:"无地自容", m:"没有地方可以让自己藏起来，形容非常羞愧。", s:"2022 0509_s22_in_12 短文一"},
      {i:"哭笑不得", m:"哭也不是，笑也不是。形容处境尴尬，不知如何是好。", s:"2025 0509_s25_in_13 短文一"},
      {i:"眼观八方", m:"形容人机智灵活，观察力强。", s:"2025 0509_s25_in_13 短文一"},
      {i:"有口无心", m:"嘴上说说，心里不这样想。指不是有心的。", s:"2025 0509_s25_in_13 短文二"},
      {i:"快人快语", m:"性情直爽的人，说话爽快。", s:"2025 0509_s25_in_13 短文三"},
      {i:"与众不同", m:"跟大家不一样。", s:"2025 0509_s25_in_13 短文三"},
      {i:"语重心长", m:"话语诚恳，有分量，情意深长。", s:"2025 0509_s25_in_13 短文三"},
      {i:"心满意足", m:"非常满足。", s:"2023 0509_s23_in_13 短文一"},
      {i:"梦寐以求", m:"睡梦中都想着寻找，形容迫切地希望着。", s:"2023 0509_s23_in_13 短文一"},
      {i:"头也不回", m:"形容意志坚决，义无反顾。", s:"2023 0509_s23_in_13 短文一"},
      {i:"艰苦卓绝", m:"形容斗争十分艰苦，超出寻常。", s:"2023 0509_s23_in_13 短文一"},
      {i:"钢筋铁骨", m:"比喻坚强无比，不可动摇。", s:"2023 0509_s23_in_13 短文一"},
      {i:"独一无二", m:"没有相同的或没有可以相比的。", s:"2023 0509_s23_in_12 短文三"},
      {i:"事半功倍", m:"形容费力小，收效大。", s:"2024 0509_s24_in_12 短文三"},
      {i:"呼之即来，挥之即去", m:"形容任意驱使。", s:"2024 0509_s24_in_12 短文三"},
      {i:"朝九晚五", m:"指上班族早九点上班，晚五点下班的作息时间。", s:"2022 0509_s22_in_13 短文三"},
      {i:"随心所欲", m:"一切都由着自己的心意，想怎么做就怎么做。", s:"2022 0509_s22_in_13 短文三"},
      {i:"泾渭分明", m:"比喻界限清楚或是非分明。", s:"2022 0509_s22_in_13 短文三"},
      {i:"毫无怨言", m:"一点抱怨的话也没有。", s:"2022 0509_s22_in_13 短文三"},
      {i:"荒腔走板", m:"原指戏曲演唱不合腔调，走了调。比喻说话或做事不合情理，离谱。", s:"2020 0509_s20_in_12 短文一"},
      {i:"不可言述", m:"不能用言语表达出来。", s:"2020 0509_s20_in_12 短文一"},
      {i:"束手无策", m:"遇到问题，就像手被捆住一样，一点办法也没有。", s:"2020 0509_s20_in_12 短文一"},
      {i:"不值一提", m:"不值得提起，形容事情很轻微或不重要。", s:"2020 0509_s20_in_12 短文一"},
      {i:"游刃有余", m:"比喻工作熟练，有实际经验，解决问题毫不费力。", s:"2021 0509_s21_in_12 短文二"},
      {i:"做小伏低", m:"意思是卑躬屈膝、低声下气，形容一个人为了达到某种目的，甘愿处于卑微的地位，甚至进行巴结奉承的行为。", s:"2021 0509_s21_in_12 短文一"},
      {i:"打肿脸充胖子", m:"比喻宁可付出代价而硬充作了不起的人。", s:"2024 0509_s24_in_13 短文三"},
      {i:"量力而行", m:"按照自己力量的大小去做，不要勉强。", s:"2024 0509_s24_in_13 短文三"},
      {i:"言传身教", m:"既用言语来教导，又用行动来示范。指用言行影响、教育别人。", s:"2024 0509_s24_in_13 短文三"},
      {i:"死记硬背", m:"指不加理解地机械记忆。", s:"2023 0509_s23_in_13 短文三"},
      {i:"长吁短叹", m:"不住地唉声叹气。", s:"2021 0509_s21_in_12 短文二"},
      {i:"置之一旁", m:"放在一边不理不睬。", s:"2021 0509_s21_in_13 短文三"},
    ];

    // ===== 工具函数 =====
    const $ = (sel, el=document) => el.querySelector(sel);
    const $$ = (sel, el=document) => [...el.querySelectorAll(sel)];
    const shuffle = arr => arr.map(v=>[Math.random(),v]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]);

    // ===== 状态 =====
    let bank = shuffle(RAW_BANK);
    let mode = localStorage.getItem('mode')||'def2idiom'; // def2idiom | idiom2def
    let score=0, streak=0, lifes=3, time=60, timer=null, qi=0; // 题目索引
    let hintLeft=2, fiftyLeft=1, skipLeft=2;

    // 恢复历史最佳
    const bestScore = +localStorage.getItem('bestScore')||0;
    const bestStreak = +localStorage.getItem('bestStreak')||0;
    $('#bestScore').textContent = bestScore;
    $('#bestStreak').textContent = bestStreak;
    $('#bankSize').textContent = bank.length;

    const setModeLabel = ()=> $('#modeLabel').textContent = mode==='def2idiom' ? '释义→选成语' : '成语→选释义';
    setModeLabel();

    // ===== UI 辅助 =====
    function toast(msg){ const t=$('#toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1200); }

    function showScreen(id){ $$('.screen').forEach(s=>s.classList.remove('active')); $(id).classList.add('active'); }

    function updateHUD(){
      $('#score').textContent=score; $('#streak').textContent=streak; $('#lifes').textContent=lifes;
      $('#hintLeft').textContent=hintLeft; $('#fiftyLeft').textContent=fiftyLeft; $('#skipLeft').textContent=skipLeft;
      $('#meta').textContent = `第 ${qi+1}/${bank.length} 题`;
    }

    function startGame(){
      score=0; streak=0; lifes=3; time=60; qi=0; hintLeft=2; fiftyLeft=1; skipLeft=2;
      bank = shuffle(RAW_BANK);
      updateHUD();
      showScreen('#screen-start');
      nextQuestion();
      if(timer) clearInterval(timer);
      timer = setInterval(()=>{
        time -= 0.1;
        if(time<=0){ time=0; endGame(); }
        $('#timeBar').style.width = (time/60*100)+'%';
      }, 100);
    }

    function endGame(){
      clearInterval(timer); timer=null;
      // 保存最佳
      if(score > (+localStorage.getItem('bestScore')||0)) localStorage.setItem('bestScore', score);
      if(streak > (+localStorage.getItem('bestStreak')||0)) localStorage.setItem('bestStreak', streak);
      $('#bestScore').textContent = localStorage.getItem('bestScore');
      $('#bestStreak').textContent = localStorage.getItem('bestStreak');
      toast(`时间到！本局得分 ${score} · 最长连对 ${streak}`);
    }

    function nextQuestion(){
      if(qi>=bank.length){ endGame(); return; }
      const item = bank[qi];
      // 生成选项
      let opts = [item];
      const pool = shuffle(RAW_BANK.filter(x=>x!==item));
      while(opts.length<4) opts.push(pool.pop());
      opts = shuffle(opts);

      const q = mode==='def2idiom' ? item.m : item.i;
      const correct = mode==='def2idiom' ? item.i : item.m;
      $('#question').textContent = q;

      const answers = $('#answers');
      answers.innerHTML='';
      opts.forEach((o,idx)=>{
        const text = mode==='def2idiom'? o.i : o.m;
        const btn = document.createElement('button');
        btn.className='opt';
        btn.innerHTML = `<b>${idx+1}.</b> ${text}`;
        btn.dataset.correct = (text===correct);
        btn.addEventListener('click', ()=>select(btn, item));
        answers.appendChild(btn);
      });

      // 更新 chips
      const chips = $('#chips');
      chips.innerHTML = `
        <span class="chip">来源：${item.s}</span>
        <span class="chip">题型：${mode==='def2idiom'?'释义→选成语':'成语→选释义'}</span>
      `;

      updateHUD();
    }

    function select(btn, item){
      if(time<=0 || !btn) return;
      const correct = btn.dataset.correct === 'true';
      $$('.opt').forEach(b=> b.disabled=true);
      if(correct){
        btn.classList.add('correct');
        score += 10; streak += 1;
        // 连对奖励：每 3 连对 +3 秒
        if(streak>0 && streak%3===0){ time = Math.min(60, time+3); toast('连对奖励 +3s'); }
      }else{
        btn.classList.add('wrong');
        streak = 0; lifes -= 1; time = Math.max(0, time-2); // 罚时
        // 标注正确项
        $$('.opt').find(b=>b.dataset.correct==='true')?.classList.add('correct');
        if(lifes<=0){ endGame(); return; }
      }
      updateHUD();
      setTimeout(()=>{ qi++; nextQuestion(); }, 500);
    }

    function useHint(){
      if(hintLeft<=0){ toast('没有提示次数了'); return; }
      const item = bank[qi];
      hintLeft -= 1; updateHUD();
      toast('已显示提示');
      // 提示：展示关键词或反义指引
      const tips = [];
      if(mode==='def2idiom'){
        // 从释义中取关键词
        const words = item.m.replace(/[，。、《》：；、\s]/g,'').split('');
        tips.push('首字：『'+item.i[0]+'』');
        tips.push('末字：『'+item.i[item.i.length-1]+'』');
        tips.push('同场来源：'+item.s);
        $('#chips').innerHTML += ` <span class="chip">提示：${tips.join(' · ')}</span>`;
      }else{
        tips.push('含义方向：'+ item.m.slice(0, Math.min(12,item.m.length)) + '…');
        tips.push('同场来源：'+item.s);
        $('#chips').innerHTML += ` <span class="chip">提示：${tips.join(' · ')}</span>`;
      }
    }

    function use5050(){
      if(fiftyLeft<=0){ toast('50/50 次数用完'); return; }
      const options = $$('.opt');
      const correct = options.find(b=>b.dataset.correct==='true');
      const wrongs = shuffle(options.filter(b=>b!==correct)).slice(0,2);
      wrongs.forEach(w=>{ w.disabled=true; w.style.opacity=.5; });
      fiftyLeft -= 1; updateHUD();
    }

    function useSkip(){
      if(skipLeft<=0){ toast('没有跳过次数了'); return; }
      skipLeft -= 1; updateHUD();
      qi++; nextQuestion();
    }

    // ===== 词库总览 =====
    function renderList(){
      const wrap = $('#list');
      wrap.innerHTML = '';
      RAW_BANK.forEach(({i,m,s})=>{
        const card = document.createElement('div');
        card.className = 'card';
        card.style.padding='14px';
        card.innerHTML = `<div style="display:flex; justify-content:space-between; gap:8px; align-items:center">
          <div style="display:flex; flex-direction:column; gap:6px; min-width:0">
            <div style="font-weight:800; font-size:16px">${i}</div>
            <div style="color:var(--muted); font-size:13px">${m}</div>
            <div class="chips"><span class="chip">${s}</span></div>
          </div>
          <button class="btn ghost" data-i="${i}">加入重点</button>
        </div>`;
        card.querySelector('button').addEventListener('click',()=>{
          localStorage.setItem('pin:'+i, '1'); toast('已加入重点：'+i);
        })
        wrap.appendChild(card);
      })
    }

    // ===== 事件绑定 =====
    $('#btn-start').addEventListener('click', startGame);
    $('#startNow').addEventListener('click', startGame);
    $('#btn-toggle-mode').addEventListener('click', ()=>{
      mode = (mode==='def2idiom')?'idiom2def':'def2idiom';
      localStorage.setItem('mode',mode); setModeLabel();
      toast('题型已切换：'+$('#modeLabel').textContent);
    });

    $('#btn-hint').addEventListener('click', useHint);
    $('#btn-5050').addEventListener('click', use5050);
    $('#btn-skip').addEventListener('click', useSkip);

    $('#btn-review').addEventListener('click', ()=>{ renderList(); showScreen('#screen-review'); });
    $('#btn-back').addEventListener('click', ()=> showScreen('#screen-start'));
    $('#btn-about').addEventListener('click', ()=>{
      alert('玩法：\n1) 60 秒限时，四选一。答对 +10 分；连续 3 题加时 +3 秒。\n2) 答错扣一命并罚时 2 秒，失去全部 3 条生命则结束。\n3) 技能：提示×2，50/50×1，跳过×2。\n4) 支持两种题型切换：释义→选成语 或 成语→选释义。\n5) 键盘操作：1-4 选项，H 提示，F 五十/五十，S 跳过，Enter 下一题。');
    })

    // 键盘支持
    window.addEventListener('keydown', e=>{
      if(e.key==='Enter' && !timer){ startGame(); }
      const map = { '1':0, '2':1, '3':2, '4':3 };
      if(map.hasOwnProperty(e.key)) $$('.opt')[map[e.key]]?.click();
      if(e.key==='h' || e.key==='H') useHint();
      if(e.key==='f' || e.key==='F') use5050();
      if(e.key==='s' || e.key==='S') useSkip();
    });

  </script>
</body>
</html>
